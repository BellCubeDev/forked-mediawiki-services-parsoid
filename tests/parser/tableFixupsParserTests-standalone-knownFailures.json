{
    "Fixup of interrupted table-cell parsing because of multi-line transclusion": {
        "wt2wt": "{|\n! class=\"c1\" |Col 1.1!! class=\"c2\" |{{1x|\n1=Col 1.2}}\n! class=\"c3\" |Col 1.3\n! class=\"c4\" |Col 1.4\n! class=\"d1\" |Col 2.1!! class=\"d2\" |{{1x|\n1=Col 2.2}}\n! class=\"d3\" |Col 2.3! abcd\n! class=\"d4\" |Col 2.4\n| class=\"e1\" |Col 3.1|| class=\"e2\" |{{1x|\n1=Col 3.2}}|| class=\"e3\" |Col 3.3| abcd|| class=\"e4\" |Col 3.4\n|}",
        "html2html": "<table data-parsoid='{\"dsr\":[0,328,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[3,326,0,0]}'><tr data-parsoid='{\"autoInsertedStart\":true,\"dsr\":[3,325,0,0]}'><th class=\"c1\" data-parsoid='{\"dsr\":[3,24,14,0]}'>Col 1.1</th><th class=\"c2\" data-parsoid='{\"stx\":\"row\",\"dsr\":[24,56,15,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"named\":true,\"spc\":[\"\\n\",\"\",\"\",\"\"]}]],\"dsr\":[39,56,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"1x\",\"href\":\"./Template:1x\"},\"params\":{\"1\":{\"wt\":\"Col 1.2\"}},\"i\":0}}]}'>Col 1.2</span></th>\n<th class=\"c3\" data-parsoid='{\"dsr\":[57,78,14,0]}'>Col 1.3</th>\n<th class=\"c4\" data-parsoid='{\"dsr\":[79,100,14,0]}'>Col 1.4</th>\n<th class=\"d1\" data-parsoid='{\"dsr\":[101,122,14,0]}'>Col 2.1</th><th class=\"d2\" data-parsoid='{\"stx\":\"row\",\"dsr\":[122,154,15,0]}'><span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"named\":true,\"spc\":[\"\\n\",\"\",\"\",\"\"]}]],\"dsr\":[137,154,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"1x\",\"href\":\"./Template:1x\"},\"params\":{\"1\":{\"wt\":\"Col 2.2\"}},\"i\":0}}]}'>Col 2.2</span></th>\n<th class=\"d3\" data-parsoid='{\"dsr\":[155,182,14,0]}'>Col 2.3! abcd</th>\n<th class=\"d4\" data-parsoid='{\"dsr\":[183,204,14,0]}'>Col 2.4</th>\n<td class=\"e1\" data-parsoid='{\"dsr\":[205,226,14,0]}'>Col 3.1</td><td class=\"e2\" data-parsoid='{\"stx\":\"row\",\"dsr\":[226,258,15,0]}'><span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"named\":true,\"spc\":[\"\\n\",\"\",\"\",\"\"]}]],\"dsr\":[241,258,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"1x\",\"href\":\"./Template:1x\"},\"params\":{\"1\":{\"wt\":\"Col 3.2\"}},\"i\":0}}]}'>Col 3.2</span></td>\n<td class=\"e3\" data-parsoid='{\"dsr\":[259,303,14,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[273,303,8,9]}'>Col 3.3| abcd</span></td>\n<td class=\"e4\" data-parsoid='{\"dsr\":[304,325,14,0]}'>Col 3.4</td></tr>\n</tbody></table>",
        "html2wt": "{|\n! class=\"c1\" |Col 1.1!! class=\"c2\" |{{1x|\n1=Col 1.2}}\n! class=\"c3\" |Col 1.3\n! class=\"c4\" |Col 1.4\n! class=\"d1\" |Col 2.1!! class=\"d2\" |{{1x|\n1=Col 2.2}}\n! class=\"d3\" |Col 2.3! abcd\n! class=\"d4\" |Col 2.4\n| class=\"e1\" |Col 3.1|| class=\"e2\" |{{1x|\n1=Col 3.2}}\n| class=\"e3\" |<nowiki>Col 3.3| abcd</nowiki>\n| class=\"e4\" |Col 3.4\n|}",
        "selser [1]": "{| data-foobar=\"5zrjnj\"\n! class=\"c1\" |Col 1.1!! class=\"c2\" |{{1x|\n1=Col 1.2}}!! class=\"c3\" |Col 1.3!! class=\"c4\" |Col 1.4\n! class=\"d1\" |Col 2.1!! class=\"d2\" |{{1x|\n1=Col 2.2}}!! class=\"d3\" |Col 2.3! abcd!! class=\"d4\" |Col 2.4\n| class=\"e1\" |Col 3.1|| class=\"e2\" |{{1x|\n1=Col 3.2}}|| class=\"e3\" |Col 3.3| abcd|| class=\"e4\" |Col 3.4\n|}",
        "selser [[4,[1,2]]]": "{|<!--2w7f9-->\n! class=\"c1\" |Col 1.1!! class=\"c2\" |{{1x|\n1=Col 1.2}}!! class=\"c3\" |Col 1.3!! class=\"c4\" |Col 1.4\n! class=\"c3\" |Col 1.3\n! class=\"c4\" |Col 1.4\n! class=\"d1\" |Col 2.1!! class=\"d2\" |{{1x|\n1=Col 2.2}}!! class=\"d3\" |Col 2.3! abcd!! class=\"d4\" |Col 2.4\n! class=\"d3\" |Col 2.3! abcd\n! class=\"d4\" |Col 2.4\n| class=\"e1\" |Col 3.1|| class=\"e2\" |{{1x|\n1=Col 3.2}}|| class=\"e3\" |Col 3.3| abcd|| class=\"e4\" |Col 3.4<!--hmsf0s-->\n|}",
        "selser [[4,2]]": "{|<!--1nbwqgs--><!--12uesl-->\n! class=\"c1\" |Col 1.1!! class=\"c2\" |{{1x|\n1=Col 1.2}}!! class=\"c3\" |Col 1.3!! class=\"c4\" |Col 1.4\n! class=\"d1\" |Col 2.1!! class=\"d2\" |{{1x|\n1=Col 2.2}}!! class=\"d3\" |Col 2.3! abcd!! class=\"d4\" |Col 2.4\n| class=\"e1\" |Col 3.1|| class=\"e2\" |{{1x|\n1=Col 3.2}}|| class=\"e3\" |Col 3.3| abcd|| class=\"e4\" |Col 3.4\n|}",
        "selser [[0,1]]": "{|\n! class=\"c1\" |Col 1.1!! class=\"c2\" |{{1x|\n1=Col 1.2}}!! class=\"c3\" |Col 1.3!! class=\"c4\" |Col 1.4\n! class=\"d1\" |Col 2.1!! class=\"d2\" |{{1x|\n1=Col 2.2}}!! class=\"d3\" |Col 2.3! abcd!! class=\"d4\" |Col 2.4\n| class=\"e1\" |Col 3.1|| class=\"e2\" |{{1x|\n1=Col 3.2}}|| class=\"e3\" |Col 3.3| abcd|| class=\"e4\" |Col 3.4\n|}",
        "selser [2]": "d3q2oc\n{|\n! class=\"c1\" |Col 1.1!! class=\"c2\" |{{1x|\n1=Col 1.2}}!! class=\"c3\" |Col 1.3!! class=\"c4\" |Col 1.4\n! class=\"d1\" |Col 2.1!! class=\"d2\" |{{1x|\n1=Col 2.2}}!! class=\"d3\" |Col 2.3! abcd!! class=\"d4\" |Col 2.4\n| class=\"e1\" |Col 3.1|| class=\"e2\" |{{1x|\n1=Col 3.2}}|| class=\"e3\" |Col 3.3| abcd|| class=\"e4\" |Col 3.4\n|}",
        "selser [[3,1]]": "{|\n! class=\"c1\" |Col 1.1!! class=\"c2\" |{{1x|\n1=Col 1.2}}!! class=\"c3\" |Col 1.3!! class=\"c4\" |Col 1.4\n! class=\"d1\" |Col 2.1!! class=\"d2\" |{{1x|\n1=Col 2.2}}!! class=\"d3\" |Col 2.3! abcd!! class=\"d4\" |Col 2.4\n| class=\"e1\" |Col 3.1|| class=\"e2\" |{{1x|\n1=Col 3.2}}|| class=\"e3\" |Col 3.3| abcd|| class=\"e4\" |Col 3.4\n|}",
        "selser [[0,[2,0]]]": "{|\n<!--z5v0kd-->! class=\"c1\" |Col 1.1!! class=\"c2\" |{{1x|\n1=Col 1.2}}!! class=\"c3\" |Col 1.3!! class=\"c4\" |Col 1.4\n! class=\"d1\" |Col 2.1!! class=\"d2\" |{{1x|\n1=Col 2.2}}!! class=\"d3\" |Col 2.3! abcd!! class=\"d4\" |Col 2.4\n| class=\"e1\" |Col 3.1|| class=\"e2\" |{{1x|\n1=Col 3.2}}|| class=\"e3\" |Col 3.3| abcd|| class=\"e4\" |Col 3.4\n|}"
    },
    "Table cell attribute merging edge cases": {
        "selser [[0,[0,0,[0,[0,0,4]],0,[3,2],0]]]": "{|\n| {{td_attrs_and_content|1=<div>foo</div> class=\"foo\"}} baz\n|-\n|{{td_attrs_and_content|1=[[No Merging Here]] class=\"foo\"}}<nowiki/>xd7gu\n|-\n|1yjfcke\n|{{td_attrs_and_content|1=[[File:Foo.jpg]] class=\"foo\"}} baz\n|}"
    }
}
